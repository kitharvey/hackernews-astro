---
import StoriesPages from "../components/StoriesPages.astro";
import Layout from "../layouts/Layout.astro";
import { getStories } from "../lib/fetchData";

const { story } = Astro.params;
const stories = await getStories(story ?? "topstories");
if (!stories) Astro.redirect("/notfound");
---

<Layout>
    <main>
        {stories && <StoriesPages posts={stories} />}
    </main>
</Layout>
